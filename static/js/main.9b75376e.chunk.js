(this["webpackJsonpstatic-job-listing"]=this["webpackJsonpstatic-job-listing"]||[]).push([[0],{52:function(e,t,a){e.exports=a(94)},57:function(e,t,a){},59:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),l=(a(57),a(2)),c=a.n(l),i=a(4),m=a(5),u=a(6),d=a(8),p=a(7),b=(a(59),a(19)),g=(a(33),a(18)),h=a(11),f=a(15),v=a.n(f);v.a.defaults.baseURL="https://joba-api-zura12337.herokuapp.com/";var E={get:v.a.get,post:v.a.post,put:v.a.put,delete:v.a.delete,setJwt:function(e){v.a.defaults.headers.common["x-auth-token"]=e}};function j(e){return"".concat("/api/jobs","/").concat(e)}function N(e){if(e._id){var t=Object(h.a)({},e);return delete t._id,E.put(j(e._id),t)}return E.post("/api/jobs",e)}var y=a(3),w=a.n(y),k=a(17),O=a(26),x=a(51),C=function(e){var t=e.name,a=e.label,n=e.error,s=e.className,o=Object(x.a)(e,["name","label","error","className"]),l=s+" form-control";return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({},o,{name:t,id:t,className:l})),n&&r.a.createElement("div",{className:"error mt-1"},n))},S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={data:{img:""},errors:{img:""},file:"",uploadedFile:{}},e.validate=function(){var t=w.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,n={},r=Object(O.a)(t.details);try{for(r.s();!(a=r.n()).done;){var s=a.value;n[s.path[0]]=s.message}}catch(o){r.e(o)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(k.a)({},a,n),s=Object(k.a)({},a,e.schema[a]),o=w.a.validate(r,s).error;return o?o.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,n=Object(h.a)({},e.state.errors);console.log("HELLO WORLD");var r=Object(h.a)({},e.state.data);r[a.name]=a.value,e.setState({data:r,errors:n})},e.onChange=function(t){e.setState({file:t.target.files[0]}),e.setState({filename:t.target.files[0].name})},e.onSubmit=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r,s,o,l,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("file",e.state.file),t.prev=3,t.next=6,v.a.post("https://joba-api-zura12337.herokuapp.com/users/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:r=t.sent,s=r.data,o=s.fileName,l=s.filePath,(i=Object(h.a)({},e.state.data)).img=l,e.setState({data:i}),e.setState({uploadedFile:{fileName:o,filePath:l}}),e.setState({errors:{img:""}}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),500===t.t0.response.status?console.log("There was a problem with the server"):(console.log(t.t0.response.data),e.setState({errors:{img:"Image Not uploaded."}}));case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),e.renderUploadImg=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"svp",enctype:"multipart/form-data"},r.a.createElement("div",{className:"custom-file mb-4"},r.a.createElement("input",{type:"file",name:"img",className:"custom-file-input",id:"validatedCustomFile",required:!0,onChange:e.onChange}),r.a.createElement("label",{className:"custom-file-label",for:"customFile"},e.state.filename),r.a.createElement("button",{onClick:e.onSubmit,id:"customFile",className:"btn btn-primary btn-block mt-2"},"Submit")),e.state.uploadedFile?r.a.createElement("div",{className:"mt-1"},r.a.createElement("img",{id:"uploaded-img",src:e.state.uploadedFile.filePath,alt:""})):null),e.state.errors.img&&r.a.createElement("div",{className:"error mt-1"},e.state.errors.img))},e}return Object(u.a)(a,[{key:"renderButton",value:function(e,t){var a=t+" btn btn-primary";return r.a.createElement("button",{type:"submit",className:a},e)}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3?arguments[3]:void 0,s=this.state,o=s.data,l=s.errors;return r.a.createElement(C,{type:a,onChange:this.handleChange,name:e,label:t,value:o[e],error:l[e],className:n})}}]),a}(n.Component),I=a(45),P=a.n(I);function F(e,t){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.post("/api/auth",{email:t,password:a});case 3:n=e.sent,r=n.data,localStorage.setItem("token",r),e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response||400!==e.t0.response.status){e.next=12;break}return e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(){window.localStorage.removeItem("token")}function D(){return(D=Object(i.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put("/api/auth/edit",{name:t.name,email:t.email,password:t.password});case 2:return a=e.sent,n=a.data,A(),F(t.email,t.password),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return localStorage.getItem("token")}E.setJwt(U());var q={login:F,logout:A,getCurrentUser:function(){try{var e=window.localStorage.getItem("token");return P()(e)}catch(t){return null}},loginWithJwt:function(e){window.localStorage.setItem("token",e)},editProfile:function(e){return D.apply(this,arguments)},getJwt:U},M=a(9),T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:""},errors:{}},e.schema={username:w.a.string().required().label("Username"),password:w.a.string().required().label("Password")},e.doSubmit=Object(i.a)(c.a.mark((function t(){var a,n,r,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state.data,n=a.username,r=a.password,t.next=4,q.login(n,r);case 4:s=e.props.location.state,window.location=s?s.from.pathname:"/jobs",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&((o=Object(h.a)({},e.state.errors)).username=t.t0.response,e.setState({errors:o}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(u.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?r.a.createElement(g.a,{to:"/user"}):r.a.createElement("div",{className:"register-login"},r.a.createElement("div",{className:"login-form-primary"},r.a.createElement("h1",{className:"primary-text",id:"login"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username","text","login-form-username login-form"),this.renderInput("password","Password","password","login-form-password login-form"),this.renderButton("Login","login-button register-button")),r.a.createElement(M.b,{className:"pass-reset",to:"/service-not-available"},"Forgot Password?")))}}]),a}(S),_=a(50),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a,n,s=this;return e=this.props.job.new?r.a.createElement("h5",{className:"badge new"},"New!"):"",this.props.job.featured?(t=r.a.createElement("h5",{className:"badge featured"},"Featured"),"job row job-featured"):t="",this.props.job.languagesId&&(a=this.props.job.languagesId.map((function(e){return r.a.createElement("p",{className:"badge-main",onClick:s.props.onClick,key:e.name},e.name)}))),this.props.job.toolsId&&(n=this.props.job.toolsId.map((function(e){return r.a.createElement("p",{key:e.name,onClick:s.props.onClick,className:"badge-main"},e.name)}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"job"},r.a.createElement(M.b,{to:"/".concat(this.props.job._id),className:"col-1"},r.a.createElement("img",{src:this.props.job.logo,alt:"logo",id:"logo"})),r.a.createElement("div",{className:"job-main col-6"},r.a.createElement("div",{className:"job-upper"},r.a.createElement("p",{className:"company"},this.props.job.company),r.a.createElement("div",{className:"badges-1"},e,t)),r.a.createElement(M.b,{to:"/".concat(this.props.job._id),className:"job-mid"},r.a.createElement("h3",{className:"position"},this.props.job.position)),r.a.createElement("div",{className:"job-bot"},r.a.createElement("p",{className:"common"},this.props.job.postedAt),r.a.createElement("p",{className:"point"},"\u2022"),r.a.createElement("p",{className:"common"},this.props.job.contract),r.a.createElement("p",{className:"point"},"\u2022"),r.a.createElement("p",{className:"common"},this.props.job.location))),r.a.createElement("div",{className:"badges col-4"},a,n)))}}]),a}(n.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.items.length<1?"none":"searchBar",r.a.createElement("div",{className:e},this.props.items.map((function(e){return r.a.createElement("div",{className:"selected-item row",key:e},r.a.createElement("h5",{className:"selected-text "},e),r.a.createElement("button",{className:"undo",onClick:function(){return t.props.onDelete(e)}},r.a.createElement("i",{className:"fas fa-times"})))})),r.a.createElement("button",{className:"clear",onClick:this.props.onClear},"Clear"))}}]),a}(n.Component),R=a(48),V=a.n(R),W=function(e){var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,s=e.currentPage,o=Math.ceil(a.length/t);if(1===o)return null;var l=V.a.range(1,o+1);return console.log(l),r.a.createElement("nav",{className:"pagination mb-5"},l.map((function(e){return r.a.createElement("li",{key:e,className:e===s?"page-item active":"page-item"},r.a.createElement("a",{onClick:function(){return n(e)},href:"#",current:!0,className:"page-link"},e))})))},z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selected:[],currentPage:1,postsPerPage:2},e.handleClick=function(t){if(e.state.selected.includes(t.target.innerText))b.b.error("Cannot add same item 2 times.");else if(e.state.selected.length>=5)b.b.error("Cannot add more than 5 items.");else{e.setState({selected:e.state.selected.concat([t.target.innerText])});var a=e.props.data.filter((function(e){return e.toolsAndLanguages.includes(t.target.innerText)}));e.setState({data:a})}},e.handleDelete=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(_.a)(e.state.selected),r=n.filter((function(e){return e!==a})),e.setState({selected:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleClear=Object(i.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.data.data,n=[],e.setState({selected:n}),e.setState({data:a});case 4:case"end":return t.stop()}}),t)}))),e.paginate=function(t){e.setState({currentPage:t})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentPage,n=t.postsPerPage,s=a*n,o=s-n,l=this.props.data.slice(o,s);return r.a.createElement("div",{className:"container"},r.a.createElement(J,{items:this.state.selected,onDelete:this.handleDelete,onClear:this.handleClear}),this.props.user&&r.a.createElement(M.b,{to:"/create-new-job",className:"btn btn-primary mt-5 create-new-job-button"},"Create New Job"),l.map((function(t){return r.a.createElement(B,{job:t,key:t.id,onClick:e.handleClick})})),r.a.createElement(W,{postsPerPage:n,totalPosts:this.props.data,paginate:this.paginate,currentPage:a}))}}]),a}(n.Component),G=function(e){var t=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(M.b,{className:"nav-item nav-link active",to:"/jobs"},"Jobs ",r.a.createElement("span",{className:"sr-only"},"(current)")),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.b,{className:"nav-item nav-link",to:"/login"},"Login"),r.a.createElement(M.b,{className:"nav-item nav-link",to:"/register"},"Register")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.name),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement(M.b,{className:"nav-item nav-link",to:"/user"},"Profile"),r.a.createElement(M.b,{className:"nav-item nav-link",to:"/edit"},"Edit Profile"),r.a.createElement(M.b,{className:"nav-item nav-link",to:"/logout"},"Logout")))))))},$=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:{},loading:!1},e.refreshPage=function(){window.location.reload(!0)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=q.getCurrentUser(),this.setState({user:t}),this.setState({loading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?null:r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"img-div"},r.a.createElement("img",{src:this.state.user.img,id:"profile-img",alt:"profile"})),r.a.createElement("h1",{className:"sec-text sm m-4"},"Name: ",this.state.user.name),r.a.createElement("h1",{className:"sec-text sm m-4"},"Email: ",this.state.user.email),r.a.createElement(M.b,{to:"/edit",className:"btn btn-primary ml-4"},"Edit Profile"))}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){q.logout(),window.location="/jobs"}},{key:"render",value:function(){return null}}]),a}(n.Component),Y=function(){return r.a.createElement("h1",{className:"error-text"},"404 Error Page Not Found")},K=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{},objectid:!1,loading:!0},e.handleClick=function(){e.props.history.replace("/jobs")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=q.getCurrentUser(),this.setState({user:t}),!(a=(a=this.props.location.pathname).slice(1)).match(/^[0-9a-fA-F]{24}$/)){e.next=13;break}return e.next=7,s=a,E.get(j(s));case 7:n=e.sent,r=n.data,this.setState({data:r}),this.setState({objectid:!0}),e.next=14;break;case 13:this.setState({objectid:!1});case 14:this.setState({loading:!1});case 15:case"end":return e.stop()}var s}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?null:!0===this.state.objectid?r.a.createElement("div",{className:"m-4"},r.a.createElement("div",{className:"job-table"},r.a.createElement("img",{src:this.state.data.logo,alt:"logo",className:"m-2",id:"get-job-img"}),r.a.createElement("h1",{className:"primary-text m-2"},this.state.data.company),r.a.createElement("p",{className:"sec-text m-2"},"Position: ",this.state.data.position),r.a.createElement("p",{className:"sec-text m-2"},"Role: ",this.state.data.role),r.a.createElement("p",{className:"sec-text m-2"},"Contract: ",this.state.data.contract),r.a.createElement("p",{className:"sec-text m-2 row languages-and-tools"},"Languages And Tools:",this.state.data.toolsAndLanguages&&this.state.data.toolsAndLanguages.map((function(t){return r.a.createElement("p",{className:"badge-main m-2",id:"page-badges",onClick:e.handleClick},t)}))," "))):window.location="/not-found"}}]),a}(n.Component);var Q={register:function(e){return E.post("/api/users",{email:e.username,img:e.img,password:e.password,name:e.name})}},X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:"",name:"",img:""},errors:{}},e.schema={username:w.a.string().required().email().label("Username"),password:w.a.string().required().min(5).label("Password"),img:w.a.string().label("Image"),name:w.a.string().required().label("Name")},e.doSubmit=Object(i.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.register(e.state.data);case 3:a=t.sent,q.loginWithJwt(a.headers["x-auth-token"]),e.props.history.push("/jobs"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&((n=Object(h.a)({},e.state.errors)).username=t.t0.response.data,e.setState({errors:n}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(u.a)(a,[{key:"render",value:function(){return q.getCurrentUser()?r.a.createElement(g.a,{to:"/jobs"}):r.a.createElement("div",{className:"register-login"},r.a.createElement("div",{className:"login-form-primary"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username","text","login-form-username login-form"),this.renderInput("password","Password","password","login-form-password login-form"),this.renderInput("name","Name","text","login-form login-form-name"),r.a.createElement("label",{htmlFor:"image"},"Image"),this.renderUploadImg(),this.renderButton("Register","login-button register-button mb-5"))))}}]),a}(S),Z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:{},errors:{},newUser:{}},e.schema={email:w.a.string().required().email().label("Email"),img:w.a.string().label("Image"),password:w.a.string().label("Password"),name:w.a.string().required().label("Name")},e.validate=function(){var t=w.a.validate(e.state.user,e.schema,{abortEarly:!1}).error;if(!t)return null;for(var a={},n=0;n<t.details.length;n++)a[t.details[n].path[0]]=t.details[n].message;return console.log(a),a},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(k.a)({},a,n),s=Object(k.a)({},a,e.schema[a]),o=w.a.validate(r,s).error;return o?o.details[0].message:null},e.doSubmit=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.state.user),t.next=4,q.editProfile(e.state.user);case 4:e.props.history.push("/jobs"),window.location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&b.b.error("Password Is Incorect");case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.onChange=function(t){var a=Object(h.a)({},e.state.errors),n=t.target.value,r=Object(h.a)({},e.state.user);r[t.target.name]=n,e.setState({user:r,errors:a})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getCurrentUser();case 2:t=e.sent,a=t.name,n=t.email,this.setState({user:{name:a,email:n}});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"mt-2",id:"basic-addon1"},"Name"),r.a.createElement("input",{className:"form-control",type:"text",name:"name",onChange:this.onChange,value:this.state.user.name}),r.a.createElement("label",{className:"mt-2",id:"basic-addon1"},"Email"),r.a.createElement("input",{className:"form-control",type:"text",name:"email",disabled:!0,value:this.state.user.email}),r.a.createElement("button",{type:"button",class:"btn btn-primary mt-2","data-toggle":"modal","data-target":"#exampleModal"},"Save"),r.a.createElement("div",{className:"modal fade show",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},"Password Verification"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("label",{className:"mt-2"},"Enter Your Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange})),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))))))}}]),a}(n.Component);var ee=a(49),te=a.n(ee),ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={languages:[],tools:[],countries:[],data:{position:null,logo:null,company:null,role:null,contract:null,level:null,toolsId:[],languagesId:[],location:null},imageUrl:null,errors:{}},e.schema={position:w.a.string().required().label("Position"),logo:w.a.any().required().label("Company Logo"),company:w.a.string().required().label("Company"),role:w.a.string().required().label("Role"),contract:w.a.string().required().label("Contract"),level:w.a.string().required().label("Level"),location:w.a.string().required().label("Country"),languagesId:w.a.array().label("Languages"),toolsId:w.a.array().label("Tools")},e.onChangeFile=function(t){var a=e.state.data;a.logo=t.target.files[0],e.setState({data:a})},e.handleSelectLanguage=function(t){var a=t.target.innerText,n=e.state.data,r=e.state.languages.find((function(e){return e.name===a}));n.languagesId.includes(r._id)?n.languagesId=n.languagesId.filter((function(e){return r._id!==e})):n.languagesId=n.languagesId.concat(r._id),console.log(e.state.data.languagesId),e.setState({data:n})},e.validate=function(){var t=w.a.validate(e.state.data,e.schema,{abortEarly:!1});if(!t.error)return null;var a,n={},r=Object(O.a)(t.error.details);try{for(r.s();!(a=r.n()).done;){var s=a.value;n[s.path[0]]=s.message}}catch(o){r.e(o)}finally{r.f()}return n},e.onValueChange=function(t){var a=Object(h.a)({},e.state.data);Object(h.a)({},e.state.data);a[t.target.name]=t.target.value;var n=e.validate();e.setState({errors:n}),e.setState({data:a})},e.handleSelectTool=function(t){var a=t.target.innerText,n=e.state.data,r=e.state.tools.find((function(e){return e.name===a}));n.toolsId.includes(r._id)?n.toolsId=n.toolsId.filter((function(e){return r._id!==e._id})):n.toolsId=n.toolsId.concat(r._id),e.setState({data:n})},e.handleChange=function(t){var a=Object(h.a)({},e.state.data);a.location=t.target.value,e.setState({data:a})},e.handleSubmit=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r,s,o,l,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.validate(),e.setState({errors:n||{}}),console.log(n),console.log(e.state.data),!n){t.next=7;break}return t.abrupt("return");case 7:return(r=new FormData).append("file",e.state.data.logo),t.prev=9,t.next=12,v.a.post("https://joba-api-zura12337.herokuapp.com/api/jobs/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 12:s=t.sent,o=s.data,o.fileName,l=o.filePath,(i=Object(h.a)({},e.state.data)).logo=l,e.setState({data:i}),e.setState({errors:{img:""}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(9),500===t.t0.response.status?console.log("There was a problem with the server"):(console.log(t.t0.response.data),e.setState({errors:{img:"Image Not uploaded."}}));case 23:e.Submit();case 24:case"end":return t.stop()}}),t,null,[[9,20]])})));return function(e){return t.apply(this,arguments)}}(),e.Submit=Object(i.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e.state.data);case 3:a=t.sent,console.log(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response&&console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,r,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/api/tools");case 2:return t=e.sent,a=t.data,e.next=6,E.get("/api/languages");case 6:n=e.sent,r=n.data,s=te.a.findAll(),o=s.data,this.setState({tools:a,languages:r,countries:o});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.data;if(q.getCurrentUser())return r.a.createElement("div",{className:"container new-job mt-5 mb-5"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"col-form-label"},"Position"),r.a.createElement("input",{type:"text",onChange:this.onValueChange,name:"position",className:"form-control"}),a.position&&r.a.createElement("div",{className:"error mt-1"},a.position),r.a.createElement("label",{className:"col-form-label"},"Company Logo"),r.a.createElement("form",{onSubmit:this.handleSubmit,class:"custom-file mt-1"},r.a.createElement("input",{type:"file",class:"custom-file-input",onChange:this.onChangeFile,name:"logo",id:"validatedCustomFile",required:!0}),r.a.createElement("label",{class:"custom-file-label",for:"validatedCustomFile"},n.logo&&n.logo.name),a.logo&&r.a.createElement("div",{className:"error mt-1"},a.logo)),r.a.createElement("label",{className:"col-form-label mt-4"},"Company"),r.a.createElement("input",{type:"text",onChange:this.onValueChange,name:"company",className:"form-control"}),a.company&&r.a.createElement("div",{className:"error mt-1"},a.company),r.a.createElement("label",{className:"col-form-label"},"Role"),r.a.createElement("input",{type:"text",onChange:this.onValueChange,name:"role",className:"form-control"}),a.role&&r.a.createElement("div",{className:"error mt-1"},a.role),r.a.createElement("label",{className:"col-form-label"},"Contract"),r.a.createElement("input",{type:"text",onChange:this.onValueChange,name:"contract",className:"form-control"}),a.contract&&r.a.createElement("div",{className:"error mt-1"},a.contract),r.a.createElement("label",{className:"col-form-label"},"Level"),r.a.createElement("input",{type:"text",onChange:this.onValueChange,name:"level",className:"form-control"}),a.level&&r.a.createElement("div",{className:"error mt-1"},a.level),r.a.createElement("select",{onChange:this.handleChange,class:"custom-select mt-3"},r.a.createElement("option",{selected:!0,disabled:!0},"Select Country"),r.a.createElement("option",null,"Global"),this.state.countries.map((function(e){return r.a.createElement("option",{value:e.name.official},e.name.official)}))),r.a.createElement("label",{className:"col-form-label mt-4"},"Languages"),this.state.languages.map((function(t){return r.a.createElement("div",{class:"custom-control custom-checkbox ml-3"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:e.state.languages.indexOf(t)}),r.a.createElement("label",{class:"custom-control-label",onClick:e.handleSelectLanguage,for:e.state.languages.indexOf(t)},t.name))})),r.a.createElement("label",{className:"col-form-label mt-4"},"Tools"),this.state.tools.map((function(t){return r.a.createElement("div",{class:"custom-control custom-checkbox ml-3"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:e.state.tools.indexOf(t)+100}),r.a.createElement("label",{class:"custom-control-label",onClick:e.handleSelectTool,for:e.state.tools.indexOf(t)+100},t.name))})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-3"})));window.location="/not-found"}}]),a}(n.Component),ne=function(e){return r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"error-text"},"Service not Available yet"),r.a.createElement("button",{className:"btn btn-primary text-center",onClick:function(){e.history.goBack()}},"Go Back"))},re=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/api/jobs");case 2:t=e.sent,a=t.data,this.setState({data:a}),n=q.getCurrentUser(),this.setState({user:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{user:a}),r.a.createElement("div",{className:"bg"}),r.a.createElement(b.a,null),r.a.createElement("div",{className:"container"},r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/register",component:X}),r.a.createElement(g.b,{path:"/login",component:T}),r.a.createElement(g.b,{path:"/jobs",render:function(e){return r.a.createElement(z,Object.assign({},e,{data:t,user:a}))}}),r.a.createElement(g.b,{path:"/user",component:$}),r.a.createElement(g.b,{path:"/logout",component:H}),r.a.createElement(g.b,{path:"/edit",component:Z}),r.a.createElement(g.b,{path:"/service-not-available",component:ne}),r.a.createElement(g.b,{path:"/create-new-job",component:ae}),r.a.createElement(g.b,{path:"/not-found",component:Y}),r.a.createElement(g.b,{path:"/:id",component:K}),r.a.createElement(g.a,{from:"/",exact:!0,to:"/jobs"}),r.a.createElement(g.a,{to:"/not-found"}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M.a,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.9b75376e.chunk.js.map